webpackJsonp([0],{"30c/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={name:"piece",components:{},props:{value:{type:Number,default:0}},data:function(){return{}},methods:{},mounted:function(){},updated:function(){},computed:{style:function(){var t="";return this.value>0&&(t+="font-size: "+80/(this.value+"").length+"px;"),t+="color: #fff;"},bgcolor:function(){var t="";switch(this.value){case 0:t+="background: #C0C4CC;";break;case 2:t+="background: #E6A23C;";break;case 4:t+="background: #409EFF;";break;case 8:t+="background: #ffcc33;";break;case 16:t+="background: #ff9933;";break;case 32:t+="background: #ff6633;";break;case 64:t+="background: #ff33ff;";break;case 128:t+="background: #cc66ff;";break;case 256:t+="background: #9966ff;";break;case 512:t+="background: #6666ff;";break;case 1024:t+="background: #99ff33;";break;case 2048:t+="background: #ff0099;";break;case 4096:t+="background: #cc0099;";break;case 8192:t+="background: #990099;";break;case 16384:t+="background: #660099;"}return t}},watch:{}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"piece",style:this.bgcolor},[e("span",{staticClass:"number-style",style:this.style},[this._v(this._s(this.value>0?this.value:""))])])},staticRenderFns:[]};var a=n("C7Lr")(o,i,!1,function(t){n("bXiP")},"data-v-35faf890",null).exports,r={name:"time",data:function(){return{isStart:!1,globalTimer:null,countString:"0秒",day:0,hour:0,minute:0,second:0,millisecond:0,countVal:this.defaultVal,pauseTime:0}},watch:{countString:{deep:!0,handler:function(t,e){this.needSendSunc&&this.passToParent(t)}},needSendSunc:{deep:!0,handler:function(t){t&&this.passToParent(this.countString)}}},props:{sendSync:{type:Boolean,default:!1},autoStart:{type:Boolean,default:!1},defaultVal:{type:Number,default:0}},mounted:function(){this.autoStart&&this.startCountFn()},computed:{needSendSunc:function(){return this.sendSync}},created:function(){this.$on("startCount",function(){this.startCountFn()}),this.$on("stopCount",function(){this.stopCountFn()})},components:{},methods:{counterFn:function(t){var e=this,n=(new Date).getTime();if(0==e.pauseTime)var o=n-t;else{e.pauseTime=e.pauseTime+10;o=e.pauseTime-t}var i=o%864e5,a=i%36e5,r=a%6e4;e.day=Math.floor(o/864e5),e.hour=Math.floor(i/36e5),e.minute=Math.floor(a/6e4),e.second=Math.round(r/1e3),e.day>0?e.countString=e.day+"天 "+e.hour+"小时 "+e.minute+"分 "+e.second+"秒":e.hour>0?e.countString=e.hour+"小时 "+e.minute+"分 "+e.second+"秒":e.minute>0?e.countString=e.minute+"分 "+e.second+"秒":e.countString=e.second+"秒"},startCountFn:function(){var t=this;if(!t.isStart){t.countVal=t.countVal?t.countVal:(new Date).getTime();var e=setInterval(function(){t.counterFn(t.countVal)},10);t.globalTimer=e,t.isStart=!0}},stopCountFn:function(){var t=this;t.isStart&&(window.clearInterval(t.globalTimer),t.globalTimer=null,t.isStart=!1,t.pauseTime=(new Date).getTime())},passToParent:function(t){this.$emit("getDataFromChild",t)}}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("span",{attrs:{sendSync:this.sendSync,autoStart:this.autoStart,defaultVal:this.defaultVal}},[this._v(this._s(this.countString))])])},staticRenderFns:[]};var c={name:"game",components:{piece:a,time:n("C7Lr")(r,s,!1,function(t){n("v0RV")},null,null).exports},props:{},data:function(){return{score:0,board:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],last:null,visGame:!0,loading:!1,max:0,visHelp:!1,visVersionInfo:!1,visRankMap:!1,totalInfo:{scoreList:[{name:"宋昊伦",score:6096},{name:"陈俊杰",score:2066},{name:"陶雨",score:2048},{name:"杨博",score:2048},{name:"菜鸟",score:256},{name:"弱鸡？",score:128},{name:"玩一半被妈妈喊走的同学",score:64}],name:"不愿意留下姓名的有志青年"},gameInfo:{score:0}}},methods:{left:function(){console.log("left"),this.merge("left"),this.addNewItem()},right:function(){console.log("right"),this.merge("right"),this.addNewItem()},up:function(){console.log("up"),this.merge("up"),this.addNewItem()},down:function(){console.log("down"),this.merge("down"),this.addNewItem()},merge:function(t){this.last=JSON.parse(JSON.stringify(this.board));var e=[];switch(t){case"left":e=this.revolve(0,this.board);break;case"right":e=this.revolve(180,this.board);break;case"up":e=this.revolve(90,this.board);break;case"down":e=this.revolve(270,this.board)}for(var n=0;n<4;n++)for(var o=0;o<4;o++)if(0!=e[n][o]){for(var i=o-1;i>=0&&(e[n][i]==e[n][o]&&(e[n][i]=e[n][i]+e[n][o],e[n][o]=0),e[n][i]>this.max&&e[n][i]>=32&&(this.max=e[n][i],this.$notify({duration:1e4,offset:100,title:"提示",message:"诶唷不错😀~居然达到了"+this.max+"分！也就比我差那么一点点啦~😏",type:"success"})),!(e[n][i]>0));i--);for(var a=0;a<o;a++)if(0==e[n][a]){e[n][a]=e[n][o],e[n][o]=0;break}}switch(console.log(e),t){case"left":this.board=this.revolve(0,e);break;case"right":this.board=this.revolve(180,e);break;case"up":this.board=this.revolve(270,e);break;case"down":this.board=this.revolve(90,e)}},revolve:function(t,e){var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]];if(0==t)for(var o=0;o<4;o++)for(var i=0;i<4;i++)n[o][i]=e[o][i];if(90==t)for(var a=0;a<4;a++)for(var r=0;r<4;r++)n[a][r]=e[r][3-a];if(180==t)for(var s=0;s<4;s++)for(var c=0;c<4;c++)n[s][c]=e[3-s][3-c];if(270==t)for(var l=0;l<4;l++)for(var u=0;u<4;u++)n[l][u]=e[3-u][l];return n},addNewItem:function(){var t=this;this.loading=!0;for(var e=0,n=[],o=0;o<4;o++)for(var i=0;i<4;i++)0==this.board[o][i]&&(e++,n.push({i:o,j:i}));if(0!=e){this.gameInfo.score+=2;var a=n[Math.floor(Math.random()*e)];this.board[a.i][a.j]=2,console.log(this.board),this.refresh(),this.loading=!1}else this.$confirm("游戏结束了?太菜了吧！要不要再来一局？","😲😲😲",{confirmButtonText:"😃",cancelButtonText:"😔",type:"warning"}).then(function(){t.restart(),t.loading=!1}).catch(function(){t.loading=!1})},undo:function(){this.board=JSON.parse(JSON.stringify(this.last)),this.last=null,this.refresh()},restart:function(){for(var t=this.gameInfo.score,e=0;e<this.totalInfo.scoreList.length;e++)if(t>this.totalInfo.scoreList[e].score){this.totalInfo.scoreList[e].name=this.totalInfo.name,this.totalInfo.scoreList[e].score=t,this.$notify({duration:1e4,offset:100,title:"提示",message:"666居然上了英雄版！你的名字将被铭记",type:"warning"});break}this.gameInfo.score=0;for(var n=0;n<4;n++)for(var o=0;o<4;o++)this.board[n][o]=0;this.refresh()},refresh:function(){var t=this;this.visGame=!1,this.$nextTick(function(e){t.visGame=!0})},help:function(){this.visHelp=!0},versionInfo:function(){this.visVersionInfo=!0},RankMap:function(){this.visRankMap=!0}},mounted:function(){this.$notify({duration:1e4,offset:100,title:"提示",message:"使用上下左右控制棋盘，相同的数组可以碰撞相加！开始游戏吧😜😜",type:"warning"});var t=this;document.onkeydown=function(e){var n=window.event.keyCode;t.loading||(37==n&&t.left(),38==n&&t.up(),39==n&&t.right(),40==n&&t.down())},this.baseUtil.EventUtil.listenTouchDirection(document,!0,t.up,t.right,t.down,t.left)},updated:function(){},computed:{},watch:{}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{background:"url('./static/bkg.jpg')",height:"800px","background-size":"cover"}},[n("el-row",[n("h1",{staticStyle:{color:"#fff","font-size":"30px",margin:"10px"}},[t._v("2048\n      "),n("span",{staticStyle:{color:"#fff","font-size":"15px"}},[t._v("v1.6")])]),t._v(" "),n("iframe",{attrs:{frameborder:"no",border:"0",marginwidth:"0",marginheight:"0",width:"298",height:"52",src:"//music.163.com/outchain/player?type=2&id=30284285&auto=1&height=32"}}),t._v(" "),n("el-card",{staticClass:"box-card"},[n("el-input",{model:{value:t.totalInfo.name,callback:function(e){t.$set(t.totalInfo,"name",e)},expression:"totalInfo.name"}})],1)],1),t._v(" "),n("el-row",[n("el-col",[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.help}},[t._v("游戏说明")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.versionInfo}},[t._v("更新日志")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"danger",disabled:!t.baseUtil.isNotNull(t.last)},on:{click:function(e){return t.undo()}}},[t._v("😨悔棋")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.restart}},[t._v("重新开始")]),t._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.RankMap}},[t._v("计分板："+t._s(t.gameInfo.score))]),t._v(" "),n("el-row",[n("div",{staticClass:"board",nativeOn:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.left(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?null:"button"in e&&2!==e.button?null:t.right(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.up(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.down(e)}]}},t._l(t.board,function(e,o){return t.visGame?n("el-row",{key:o},t._l(e,function(t,e){return n("el-col",{key:e,attrs:{span:6}},[n("piece",{attrs:{value:t}})],1)}),1):t._e()}),1)])],1)],1),t._v(" "),n("el-dialog",{attrs:{visible:t.visHelp},on:{"update:visible":function(e){t.visHelp=e}}},[n("h3",{staticStyle:{"text-align":"left"}},[t._v("\n      游戏规则："),n("br"),t._v("\n      游戏的规则很简单，你需要控制所有方块向同一个方向运动，两个相同数字方块撞在一起之后合并成为他们的和，"),n("br"),t._v("\n      每次操作之后会随机生成一个2或者4，最终得到一个“2048”的方块就算胜利了。"),n("br"),t._v("\n      技巧解析："),n("br"),t._v("\n      1、简单点来说就是尽量不要向上滑动就可以了。先得到较大的数放在右下角。例如第四行2-2-4-32。"),n("br"),t._v("\n      两次想右滑动得到8-32。然后在上面肯定得到了2或4，向左滑动，放到左边，然后向下滑动，麻烦点的例如得到4-2-8-32。"),n("br"),t._v("\n      此时需要考虑的就是在第三行第二个位置得到1个2，然后向下合并再向右合并就可以得到16-32了。同理，这样循环，小数不断积累得到更大的数。"),n("br"),t._v("\n      步骤越来越多而已。"),n("br"),t._v("\n      2、数越来越大以后，较大的数要依次靠着这个，如图64-128-256-512。(如果是256-64-256-512就难度很大了)按向右递增的规律，"),n("br"),t._v("\n      这样如果在上面一行产生出一个64在64的上面，即可按下将64合为128，不断按右产生新的最大的数1024。然后同理，再产生512紧贴1024，"),n("br"),t._v("\n      256紧贴512。"),n("br"),t._v("\n      3、因为尽量不向上滑动，所以大的数必然在底下，靠大家自己的头脑稍微判断下，基本不会出太大的问题就可以达到这样效果。"),n("br"),t._v("\n      因为还想靠在右下角，所有还要谨慎向左滑动，要产生所需要的数，最好先将最后一行填满，譬如2-2-256-512也可以，"),n("br"),t._v("\n      这样第三行左右下就可以随意的滑动了， 产生所需要的数按下合并即可。"),n("br"),t._v("\n      总结："),n("br"),t._v("\n      总的来说游戏玩法游规则很简单，就是把方块合并，合并的办法是其中一个数字靠边的时候，将另一个数字向四个方向的墙推过去。2和2可以合并成4，4和4合并成8，直至合成到2048，虽然看似简单，但是根本停不下啊。\n    ")])]),t._v(" "),n("el-dialog",{attrs:{visible:t.visVersionInfo},on:{"update:visible":function(e){t.visVersionInfo=e}}},[n("h3",{staticStyle:{"text-align":"left"}},[t._v("\n      v1.0: 2048基本功能"),n("br"),t._v("\n      v1.1：游戏说明及悔棋功能"),n("br"),t._v("\n      v1.2：公测版上线！及部分UI优化"),n("br"),t._v("\n      v1.3: 移动端上线！"),n("br"),t._v("\n      v1.4: 可以在BGM中kill time了~"),n("br"),t._v("\n      v1.5: 简易计分板以及版本说明"),n("br"),t._v("\n      v1.6: 修复移动端错位问题"),n("br"),t._v("\n      您的使用就我们前进的最大动力！\n    ")])]),t._v(" "),n("el-dialog",{attrs:{visible:t.visRankMap,center:""},on:{"update:visible":function(e){t.visRankMap=e}}},[n("el-row",[t.visGame?n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[t._v("当前分数："+t._s(t.gameInfo.score))])]),t._v(" "),t._l(t.totalInfo.scoreList,function(e,o){return n("div",{key:o,staticClass:"text-item"},[t._v("\n          "+t._s("第"+(o+1)+"名："+e.name+" 分数："+e.score)+"\n        ")])})],2):t._e()],1)],1)],1)},staticRenderFns:[]};var u=n("C7Lr")(c,l,!1,function(t){n("a954")},"data-v-647fd9de",null);e.default=u.exports},a954:function(t,e){},bXiP:function(t,e){},v0RV:function(t,e){}});
//# sourceMappingURL=0.00121aa2094a1fe8059b.js.map